{% extends 'base_nav.html' %}

{% block content %}
<div id="tags">
    <header class="tags-header">
        <h2>#{{ tag_name }}</h2>
        <div>게시물 {{ posts.count }}</div> <!-- 데이터의 수량을 세는 메서드 count? -->
    </header>
    <div class="post-grid-container">
        {% for post in posts %}
            <!-- Post 에 연결된 PostImage 가 있으며, 연결된 첫 번째 PostImage의 Photo가 비어있지 않은 경우 -->
            {% if post.postimage_set.first and post.postimage_set.first.photo %}
                <div class="post-grid">
                    <a href="{% url 'posts:post_detail' post_id=post.id %}">
                        <img src = "{{ post.postimage_set.first.photo.url }}" alt="">
                    </a>
                </div>
            {% endif %}
        <!-- For 문으로 반복할 데이터가 없을 경우 empty 태그 실행 -->
        {% empty %}
                <p>검색된 게시물이 없습니다.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}